<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Quick Link 2: /src/QuickStart/Calibrate.cpp</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="Quick Link API logo2.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Quick Link 2
   &#160;<span id="projectnumber">v 2.5.1.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="modules.html"><span>Sections</span></a></li>
      <li><a href="files.html"><span>Header&#160;Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">/src/QuickStart/Calibrate.cpp</div>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment">





<span class="preprocessor">#include &quot;QL2Utility.h&quot;</span>
<span class="preprocessor">#include &quot;Calibrate.h&quot;</span>
<span class="preprocessor">#include &quot;opencvUtility.h&quot;</span>

<span class="keywordtype">void</span> DrawTarget(IplImage* image, CvPoint center, <span class="keywordtype">int</span> radius, CvScalar color)
{
    DrawCross(image, center, radius, color, 2);
    cvCircle(image, center, radius, CV_RGB(50, 50, 50), radius);
};

<span class="keywordtype">void</span> DisplayCalibration(
    IplImage* displayImage, 
    <span class="keyword">const</span> <a name="_a0"></a><a class="code" href="struct_q_l_calibration_target.html" title="Data that identifies a calibration target.">QLCalibrationTarget</a>* targets, 
    <span class="keyword">const</span> <a name="_a1"></a><a class="code" href="struct_q_l_calibration_score.html" title="Values that identify the quality of a calibration at a target.">QLCalibrationScore</a>* leftScores, 
    <span class="keyword">const</span> <a class="code" href="struct_q_l_calibration_score.html" title="Values that identify the quality of a calibration at a target.">QLCalibrationScore</a>* rightScores,
    <span class="keywordtype">int</span> numTargets,
    <span class="keyword">const</span> <span class="keywordtype">char</span> * windowName)
{
    <span class="keywordtype">int</span> tx = 0;
    <span class="keywordtype">int</span> ty = 0;

    <span class="comment">//Clear the calibration window</span>
    memset(displayImage-&gt;imageData, 128, displayImage-&gt;imageSize);

    <span class="comment">//Loop through each target.</span>
    printf_s(<span class="stringliteral">&quot;\nCalibration Scores\n&quot;</span>);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numTargets; i++)
    {
        <span class="comment">// Draw the target positions</span>
        tx = (int)targets[i].x * displayImage-&gt;width / 100;
        ty = (<span class="keywordtype">int</span>)targets[i].<a name="a2"></a><a class="code" href="struct_q_l_calibration_target.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> * displayImage-&gt;height / 100;
        DrawTarget(displayImage, cvPoint(tx, ty),  20, CV_RGB(50, 50, 50));

        <span class="comment">// Draw the left </span>
        tx = (int)(targets[i].x + leftScores[i].x) * displayImage-&gt;width / 100;
        ty = (int)(targets[i].y + leftScores[i].y) * displayImage-&gt;height / 100;
        DrawCross(displayImage, cvPoint(tx, ty), 10, CV_RGB(0, 255, 255), 1);

        <span class="comment">// Draw the right </span>
        tx = (int)(targets[i].x + rightScores[i].x) * displayImage-&gt;width / 100;
        ty = (int)(targets[i].y + rightScores[i].y) * displayImage-&gt;height / 100;
        DrawCross(displayImage, cvPoint(tx, ty), 10, CV_RGB(255, 0, 0), 1);

        cvShowImage(windowName, displayImage);

        printf_s(<span class="stringliteral">&quot;%2.2f %2.2f &quot;</span>, leftScores[i].score, rightScores[i].score);
    }
    printf_s(<span class="stringliteral">&quot;\n&quot;</span>);


};

<span class="keywordtype">bool</span> CalibrateTarget(
    <a class="code" href="group___calibration.html#gacf8176ed52d293205408db3fe2d53d78" title="A unique identifier that is used to access a calibration container.">QLCalibrationId</a> calibrationId,
    <a class="code" href="struct_q_l_calibration_target.html" title="Data that identifies a calibration target.">QLCalibrationTarget</a> target,
    IplImage* displayImage,
    <span class="keyword">const</span> <span class="keywordtype">char</span>* windowName)
{
    <span class="comment">// Loop on this target until eye data was successfully collected for each</span>
    <span class="comment">// eye.</span>
    <a class="code" href="_q_l_types_8h.html#a6bad519fb3f9d94813b6feb7e2440b45" title="Status values for a calibration target.">QLCalibrationStatus</a> status = <a name="a3"></a><a class="code" href="_q_l_types_8h.html#a6bad519fb3f9d94813b6feb7e2440b45aa5c30149a5e1510c35b9cdc4461ea415" title="The calibration target has data for both the left and right eyes.">QL_CALIBRATION_STATUS_OK</a>;
    <span class="keywordflow">do</span>
    {
        <span class="comment">//Clear the calibration window</span>
        memset(displayImage-&gt;imageData, 128, displayImage-&gt;imageSize);

        <span class="comment">// Display the cleared image buffer in the calibration window.</span>
        cvShowImage(windowName, displayImage);

        <span class="comment">// Wait for a little bit so show the blanked screen.</span>
        <span class="keywordflow">if</span>(cvWaitKeyEsc == cvWaitKey(100))
            <span class="keywordflow">return</span> <span class="keyword">false</span>;

        <span class="comment">// The target positions are in percentage of the area to be tracked so</span>
        <span class="comment">// we need to scale to the calibration window size.</span>
        <span class="keywordtype">int</span> tx = (int)target.<a name="a4"></a><a class="code" href="struct_q_l_calibration_target.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> * displayImage-&gt;width / 100;
        <span class="keywordtype">int</span> ty = (<span class="keywordtype">int</span>)target.<a class="code" href="struct_q_l_calibration_target.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> * displayImage-&gt;height / 100;

        <span class="comment">// Draw a target to the image buffer</span>
        DrawTarget(displayImage, cvPoint(tx, ty),  20, CV_RGB(0, 255, 0));
            
        <span class="comment">// Display the image buffer in the calibration window.</span>
        cvShowImage(windowName, displayImage);

        <span class="comment">// Wait a little bit so the user can see the target before we calibrate.</span>
        cvWaitKey(250);

        <span class="comment">// Calibrate the target for 1000 ms. This can be done two ways; blocking and</span>
        <span class="comment">// non-blocking. For blocking set the block variable to true. for</span>
        <span class="comment">// non-blocking set it to false. </span>
        <span class="keywordtype">bool</span> block = <span class="keyword">false</span>;
        <a name="a5"></a><a class="code" href="group___calibration.html#ga9fc8ca4bdaececca39f7716147400ec7" title="Calibrate a target.">QLCalibration_Calibrate</a>(calibrationId, target.<a name="a6"></a><a class="code" href="struct_q_l_calibration_target.html#a0559f260a4bf2fa03c9ae4cf83c843c5">targetId</a>, 1500, block);

        <span class="comment">// When non-blocking is used, the status of the target needs to be</span>
        <span class="comment">// polled to determine when it has finished. During the polling we can</span>
        <span class="comment">// do other things like querying user input as we do here to see if</span>
        <span class="comment">// the user wants to quit the calibration.</span>
        <span class="keywordtype">int</span> keyPressed = 0;
        <span class="keywordflow">while</span>(!block &amp;&amp;
            ((keyPressed = cvWaitKey(10)) != cvWaitKeyEsc) &amp;&amp;
            (<a name="a7"></a><a class="code" href="group___calibration.html#ga2db22c509f2f41a3db5f665f009579f0" title="Get the status of a calibration target.">QLCalibration_GetStatus</a>(calibrationId, target.<a class="code" href="struct_q_l_calibration_target.html#a0559f260a4bf2fa03c9ae4cf83c843c5">targetId</a>, &amp;status) == <a name="a8"></a><a class="code" href="_q_l_types_8h.html#a22d4c0db9d20a9918bd5947d67977468a51dc4f37a376c25bf1d7c91ded3c8bbc" title="The function successfully completed.">QL_ERROR_OK</a>) &amp;&amp;
            (status == <a name="a9"></a><a class="code" href="_q_l_types_8h.html#a6bad519fb3f9d94813b6feb7e2440b45ae0cfdfddf0debab456917051120868a1" title="The calibration target is in the process of calibrating.">QL_CALIBRATION_STATUS_CALIBRATING</a>));

        <span class="comment">// If the user terminated the calibration early then return false.</span>
        <span class="keywordflow">if</span>(keyPressed == cvWaitKeyEsc)
            <span class="keywordflow">return</span> <span class="keyword">false</span>;

        <span class="comment">// Get the status of the target.</span>
        <a class="code" href="group___calibration.html#ga2db22c509f2f41a3db5f665f009579f0" title="Get the status of a calibration target.">QLCalibration_GetStatus</a>(calibrationId, target.<a class="code" href="struct_q_l_calibration_target.html#a0559f260a4bf2fa03c9ae4cf83c843c5">targetId</a>, &amp;status);
    }<span class="keywordflow">while</span>(status != <a class="code" href="_q_l_types_8h.html#a6bad519fb3f9d94813b6feb7e2440b45aa5c30149a5e1510c35b9cdc4461ea415" title="The calibration target has data for both the left and right eyes.">QL_CALIBRATION_STATUS_OK</a>);

    <span class="comment">// Return true to indicate that the target has successfully been calibrated</span>
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
};

<span class="keywordtype">bool</span> AutoCalibrate(
    <a class="code" href="group___device.html#ga8b6d16f8cfb0599ab2558552fb3e9291" title="A unique identifier that is used to access a device.">QLDeviceId</a> deviceId, 
    <a class="code" href="_q_l_types_8h.html#a15c70c494a2a5f81aa244079be65b99b" title="Values that identify different calibration modes.">QLCalibrationType</a> calibrationType,  
    <a class="code" href="group___calibration.html#gacf8176ed52d293205408db3fe2d53d78" title="A unique identifier that is used to access a calibration container.">QLCalibrationId</a>* calibrationId)
{
    <a class="code" href="_q_l_types_8h.html#a22d4c0db9d20a9918bd5947d67977468" title="Error codes returned from Quick Link 2 functions.">QLError</a> qlerror = <a class="code" href="_q_l_types_8h.html#a22d4c0db9d20a9918bd5947d67977468a51dc4f37a376c25bf1d7c91ded3c8bbc" title="The function successfully completed.">QL_ERROR_OK</a>;

    <span class="comment">// Initialize the calibration using the inputed data.</span>
    qlerror = <a name="a10"></a><a class="code" href="group___calibration.html#gaded967a0ae788dd19d27b273250a8897" title="Initialize a calibration container.">QLCalibration_Initialize</a>(deviceId, *calibrationId, calibrationType);

    <span class="comment">// If the calibrationId was not valid then create a new calibration</span>
    <span class="comment">// container and use it.</span>
    <span class="keywordflow">if</span>(qlerror == <a name="a11"></a><a class="code" href="_q_l_types_8h.html#a22d4c0db9d20a9918bd5947d67977468ac6c6ca2fb3c494126d60b92778ba7250" title="The input calibration ID is invalid.">QL_ERROR_INVALID_CALIBRATION_ID</a>)
    {
        <a name="a12"></a><a class="code" href="group___calibration.html#ga8d67cbb11337c20a6b2db79d3532e917" title="Create a new calibration container.">QLCalibration_Create</a>(0, calibrationId);
        qlerror = <a class="code" href="group___calibration.html#gaded967a0ae788dd19d27b273250a8897" title="Initialize a calibration container.">QLCalibration_Initialize</a>(deviceId, *calibrationId, calibrationType);
    }

    <span class="comment">// If the initialization failed then print an error and return false.</span>
    <span class="keywordflow">if</span>(qlerror == <a name="a13"></a><a class="code" href="_q_l_types_8h.html#a22d4c0db9d20a9918bd5947d67977468ae9fe8fb76709d3aa9381c2230eeedc9f" title="The input device ID is invalid.">QL_ERROR_INVALID_DEVICE_ID</a>)
    {
        printf_s(<span class="stringliteral">&quot;QLCalibration_Initialize() failed with error code %d.\n&quot;</span>, qlerror);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="comment">// Create a buffer for the targets. This just needs to be large enough to</span>
    <span class="comment">// hold the targets. </span>
    <span class="keyword">const</span> <span class="keywordtype">int</span> bufferSize = 20;
    <span class="keywordtype">int</span> numTargets = bufferSize;
    <a class="code" href="struct_q_l_calibration_target.html" title="Data that identifies a calibration target.">QLCalibrationTarget</a> targets[bufferSize];

    <span class="comment">// Get the targets. After the call, numTargets will contain the number of</span>
    <span class="comment">// actual targets. </span>
    qlerror = <a name="a14"></a><a class="code" href="group___calibration.html#ga92c14e11b16a611161996f4567a29bfd" title="Get the positions for the calibration targets.">QLCalibration_GetTargets</a>(*calibrationId, &amp;numTargets, targets);

    <span class="comment">// If the buffer was not large enough then print an error and return false.</span>
    <span class="keywordflow">if</span>(qlerror == <a name="a15"></a><a class="code" href="_q_l_types_8h.html#a22d4c0db9d20a9918bd5947d67977468a40eaa477d3d57e1f9e54521219239065" title="The input buffer is is not large enough.">QL_ERROR_BUFFER_TOO_SMALL</a>)
    {
        printf_s(
            <span class="stringliteral">&quot;The target buffer is too small. It should be at least %d bytes.\n&quot;</span>, 
            numTargets * <span class="keyword">sizeof</span>(<a class="code" href="struct_q_l_calibration_target.html" title="Data that identifies a calibration target.">QLCalibrationTarget</a>));
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    

    <span class="comment">// Use OpenCV to create a window for doing the calibration. The calibration</span>
    <span class="comment">// will only be valid over the area of this window. If the entire screen</span>
    <span class="comment">// area is to be calibrated then this window should be set to the screen</span>
    <span class="comment">// size. </span>
    <span class="keywordtype">int</span> windowWidth = 1024;
    <span class="keywordtype">int</span> windowHeight = 768;
    <span class="keyword">const</span> <span class="keywordtype">char</span>* windowName = <span class="stringliteral">&quot;Calibration Window&quot;</span>;
    IplImage* displayImage = cvCreateImage(cvSize(windowWidth, windowHeight), 8, 3);
    cvNamedWindow(windowName, CV_WINDOW_AUTOSIZE);
    cvMoveWindow(windowName, 0, 0);
    cvResizeWindow(windowName, windowWidth, windowHeight);

    <span class="comment">//Clear the calibration window</span>
    memset(displayImage-&gt;imageData, 128, displayImage-&gt;imageSize);

    <span class="comment">// Create a font for printing to the window.</span>
    CvFont font;
    cvInitFont(&amp;font,CV_FONT_HERSHEY_SIMPLEX, .5, .5, 0, 1);

    <span class="comment">// Print a message to the image.</span>
    <span class="keywordtype">int</span> lineSize = 20;
    <span class="keywordtype">int</span> lineIndent = 10;
    cvPutText(
        displayImage, 
        <span class="stringliteral">&quot;The calibration is dependant on the location of the calibration area.&quot;</span>,
        cvPoint(lineIndent, lineSize * 1),
        &amp;font,
        CV_RGB(255, 255, 255));
    cvPutText(
        displayImage, 
        <span class="stringliteral">&quot;Move the window to the area of the screen you would like calibrate.&quot;</span>,
        cvPoint(lineIndent, lineSize * 2),
        &amp;font,
        CV_RGB(255, 255, 255));
    cvPutText(
        displayImage, 
        <span class="stringliteral">&quot;Press ENTER when ready.&quot;</span>,
        cvPoint(lineIndent, lineSize * 3),
        &amp;font,
        CV_RGB(255, 255, 255));
    cvPutText(
        displayImage, 
        <span class="stringliteral">&quot;Press ESC at any time to terminate the calibration&quot;</span>,
        cvPoint(lineIndent, lineSize * 4),
        &amp;font,
        CV_RGB(255, 255, 255));

    <span class="comment">// Display the image to the window.</span>
    cvShowImage(windowName, displayImage);

    <span class="comment">// Wait for the user to place the window and press a key.</span>
    <span class="keywordflow">if</span>(cvWaitKey() == cvWaitKeyEsc)
    {
        <a name="a16"></a><a class="code" href="group___calibration.html#ga1d8d8dba5865cce5ada65e778c0cc92f" title="Cancel a calibration that is in process.">QLCalibration_Cancel</a>(*calibrationId);
        cvReleaseImage(&amp;displayImage);
        cvDestroyWindow(windowName);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="comment">// Loop through each target and calibrate them</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numTargets; i++) 
    {
        <span class="comment">// Calibrate each target. If the user terminates the calibration then</span>
        <span class="comment">// return false.</span>
        <span class="keywordflow">if</span>(!CalibrateTarget(
            *calibrationId, 
            targets[i],
            displayImage,
            windowName))
        {
            <a class="code" href="group___calibration.html#ga1d8d8dba5865cce5ada65e778c0cc92f" title="Cancel a calibration that is in process.">QLCalibration_Cancel</a>(*calibrationId);
            cvReleaseImage(&amp;displayImage);
            cvDestroyWindow(windowName);
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
            
    }

    <span class="comment">// Get the scores and display them. If the user wants to improve the</span>
    <span class="comment">// calibration then recalibrate the worst target and loop through again.</span>
    <span class="keywordtype">int</span> keyPress = 0;
    <span class="keywordflow">do</span>
    { 
        <span class="comment">// When all calibration targets have been successfully calibrated then get</span>
        <span class="comment">// the scoring. Scores can only be calculated once all targets have been</span>
        <span class="comment">// calibrated.</span>
        <a class="code" href="struct_q_l_calibration_score.html" title="Values that identify the quality of a calibration at a target.">QLCalibrationScore</a> leftScores[bufferSize];
        <a class="code" href="struct_q_l_calibration_score.html" title="Values that identify the quality of a calibration at a target.">QLCalibrationScore</a> rightScores[bufferSize];
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numTargets; i++) 
        {
            <a name="a17"></a><a class="code" href="group___calibration.html#ga270ec1fb82c64d90933b09b31b2a41c4" title="Get the scoring of a calibration target.">QLCalibration_GetScoring</a>(
                *calibrationId, 
                targets[i].targetId, 
                <a name="a18"></a><a class="code" href="_q_l_types_8h.html#a0e337d82e818280b6e8a399527353d06acd691c66984175d6469d6821291533f0" title="The left eye.">QL_EYE_TYPE_LEFT</a>, 
                leftScores + i);

            <a class="code" href="group___calibration.html#ga270ec1fb82c64d90933b09b31b2a41c4" title="Get the scoring of a calibration target.">QLCalibration_GetScoring</a>(
                *calibrationId, 
                targets[i].targetId, 
                <a name="a19"></a><a class="code" href="_q_l_types_8h.html#a0e337d82e818280b6e8a399527353d06aa1a65ece220708916a24570756719054" title="The right eye.">QL_EYE_TYPE_RIGHT</a>, 
                rightScores + i);
        }

        <span class="comment">// Display the calibration results graphically.</span>
        DisplayCalibration(displayImage, targets, leftScores, rightScores, numTargets, windowName);

        <span class="comment">// Wait for user input to determine what to do.</span>
        keyPress = cvWaitKey();

        <span class="comment">// If the user wants to improve the calibration then determine which</span>
        <span class="comment">// target has the largest score and recalibrate it.</span>
        <span class="keywordflow">if</span>(keyPress == <span class="charliteral">&#39;i&#39;</span>)
        {
            <span class="keywordtype">float</span> highestScore = 0;
            <span class="keywordtype">int</span> highestIndex = 0;
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numTargets; i++) 
            {
                <span class="keywordflow">if</span>(leftScores[i].score &gt; highestScore)
                {
                    highestScore = leftScores[i].<a name="a20"></a><a class="code" href="struct_q_l_calibration_score.html#a8c5cd9b525ee73a24b1d9d8e34982d1c">score</a>;
                    highestIndex = i;
                }

                <span class="keywordflow">if</span>(rightScores[i].score &gt; highestScore)
                {
                    highestScore = rightScores[i].<a class="code" href="struct_q_l_calibration_score.html#a8c5cd9b525ee73a24b1d9d8e34982d1c">score</a>;
                    highestIndex = i;
                }
            }

            <span class="comment">// Calibrate the target. If the user terminates the calibration then</span>
            <span class="comment">// return false.</span>
            <span class="keywordflow">if</span>(!CalibrateTarget(
                *calibrationId, 
                targets[highestIndex],
                displayImage,
                windowName))
            {
                <a class="code" href="group___calibration.html#ga1d8d8dba5865cce5ada65e778c0cc92f" title="Cancel a calibration that is in process.">QLCalibration_Cancel</a>(*calibrationId);
                cvReleaseImage(&amp;displayImage);
                cvDestroyWindow(windowName);
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
            }
        }

    }<span class="keywordflow">while</span>(keyPress == <span class="charliteral">&#39;i&#39;</span>);

    <span class="comment">// If the user would not like to save the calibration then cancel the</span>
    <span class="comment">// calibration and return false.</span>
    <span class="keywordflow">if</span>(keyPress == cvWaitKeyEsc)
    {
        <a class="code" href="group___calibration.html#ga1d8d8dba5865cce5ada65e778c0cc92f" title="Cancel a calibration that is in process.">QLCalibration_Cancel</a>(*calibrationId);
        cvReleaseImage(&amp;displayImage);
        cvDestroyWindow(windowName);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }


    <a name="a21"></a><a class="code" href="group___calibration.html#ga8211da9d75f2e95c463e46e0afe0a86e" title="Finalize a completed calibration.">QLCalibration_Finalize</a>(*calibrationId);
    cvReleaseImage(&amp;displayImage);
    cvDestroyWindow(windowName);
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div> </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 18 2012 17:02:52 for Quick Link 2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
